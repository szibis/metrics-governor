suite: DaemonSet template
templates:
  - templates/daemonset.yaml
tests:
  - it: renders when kind is daemonset
    set:
      kind: daemonset
    asserts:
      - isKind:
          of: DaemonSet

  - it: sets updateStrategy from values
    set:
      kind: daemonset
      daemonSet.updateStrategy.type: OnDelete
    asserts:
      - equal:
          path: spec.updateStrategy.type
          value: OnDelete

  - it: does not render when kind is deployment
    asserts:
      - hasDocuments:
          count: 0
